import{_ as e,a as n,b as a,c as t,i as c,s as o,d as r,S as s,f as l,g as i,h as u,j as d,k as f,l as h,m as v,H as g,o as p,p as m,I as _,t as E,J as k,K as b,w as y,n as D,L as x,M as T,N as j}from"./index.d2f48ed9.js";import{_ as L,a as $}from"./asyncToGenerator.82c908b5.js";function N(e,n,a){var t=Object.create(e);return t.food=n[a],t}function F(e,n,a){var t=Object.create(e);return t.category=n[a],t}function w(e){var n,a,t,c,o;return{c:function(){n=l("form"),a=l("button"),t=i(),c=l("input"),this.h()},l:function(e){n=u(e,"FORM",{class:!0},!1);var o=d(n);a=u(o,"BUTTON",{"uk-search-icon":!0},!1),d(a).forEach(f),t=h(o,"\n        "),c=u(o,"INPUT",{class:!0,type:!0,placeholder:!0},!1),d(c).forEach(f),o.forEach(f),this.h()},h:function(){v(a,"uk-search-icon",""),v(c,"class","uk-search-input"),v(c,"type","search"),v(c,"placeholder","Search..."),v(n,"class","uk-search uk-search-default"),o=[g(c,"input",e.input_input_handler),g(c,"keydown",e.updateFilters)]},m:function(o,r){p(o,n,r),m(n,a),m(n,t),m(n,c),c.value=e.filterValue},p:function(e,n){e.filterValue&&(c.value=n.filterValue)},d:function(e){e&&f(n),_(o)}}}function A(e){for(var n,a,t,c,o,r,s,y,D,x,j,L,$=e.categories,N=[],w=0;w<$.length;w+=1)N[w]=C(F(e,$,w));return{c:function(){n=l("div"),a=l("h5"),t=E("Category"),c=i(),o=l("div"),r=l("select");for(var e=0;e<N.length;e+=1)N[e].c();s=i(),y=l("button"),D=l("span"),x=i(),j=l("span"),this.h()},l:function(e){n=u(e,"DIV",{class:!0},!1);var l=d(n);a=u(l,"H5",{},!1);var i=d(a);t=h(i,"Category"),i.forEach(f),c=h(l,"\n        "),o=u(l,"DIV",{"uk-form-custom":!0},!1);var v=d(o);r=u(v,"SELECT",{},!1);for(var g=d(r),p=0;p<N.length;p+=1)N[p].l(g);g.forEach(f),s=h(v,"\n          "),y=u(v,"BUTTON",{class:!0,type:!0,tabindex:!0},!1);var m=d(y);D=u(m,"SPAN",{},!1),d(D).forEach(f),x=h(m,"\n            "),j=u(m,"SPAN",{"uk-icon":!0},!1),d(j).forEach(f),m.forEach(f),v.forEach(f),l.forEach(f),this.h()},h:function(){void 0===e.selectedCategory&&T(function(){return e.select_change_handler.call(r)}),v(j,"uk-icon","icon: chevron-down"),v(y,"class","uk-button uk-button-default"),v(y,"type","button"),v(y,"tabindex","-1"),v(o,"uk-form-custom","target: > * > span:first-child"),v(n,"class","uk-margin"),L=[g(r,"change",e.select_change_handler),g(r,"change",e.updateFilters)]},m:function(l,i){p(l,n,i),m(n,a),m(a,t),m(n,c),m(n,o),m(o,r);for(var u=0;u<N.length;u+=1)N[u].m(r,null);k(r,e.selectedCategory),m(o,s),m(o,y),m(y,D),m(y,x),m(y,j)},p:function(e,n){if(e.categories){$=n.categories;for(var a=0;a<$.length;a+=1){var t=F(n,$,a);N[a]?N[a].p(e,t):(N[a]=C(t),N[a].c(),N[a].m(r,null))}for(;a<N.length;a+=1)N[a].d(1);N.length=$.length}e.selectedCategory&&k(r,n.selectedCategory)},d:function(e){e&&f(n),b(N,e),_(L)}}}function C(e){var n,a,t=e.category+"";return{c:function(){n=l("option"),a=E(t),this.h()},l:function(e){n=u(e,"OPTION",{value:!0},!1);var c=d(n);a=h(c,t),c.forEach(f),this.h()},h:function(){n.__value=e.category,n.value=n.__value},m:function(e,t){p(e,n,t),m(n,a)},p:function(e,a){n.value=n.__value},d:function(e){e&&f(n)}}}function I(e){var n,a,t,c,o,r,s,k,b,y,D,x,T,j,L,$,N;return{c:function(){n=l("div"),a=l("label"),t=l("input"),c=E("\n          Recommended"),o=i(),r=l("br"),s=i(),k=l("label"),b=l("input"),y=E("\n          Not Recommended"),D=i(),x=l("br"),T=i(),j=l("label"),L=l("input"),$=E("\n          All"),this.h()},l:function(e){n=u(e,"DIV",{class:!0},!1);var l=d(n);a=u(l,"LABEL",{class:!0},!1);var i=d(a);t=u(i,"INPUT",{class:!0,type:!0,name:!0,checked:!0,value:!0},!1),d(t).forEach(f),c=h(i,"\n          Recommended"),i.forEach(f),o=h(l,"\n        "),r=u(l,"BR",{},!1),d(r).forEach(f),s=h(l,"\n        "),k=u(l,"LABEL",{class:!0},!1);var v=d(k);b=u(v,"INPUT",{class:!0,type:!0,name:!0,value:!0},!1),d(b).forEach(f),y=h(v,"\n          Not Recommended"),v.forEach(f),D=h(l,"\n        "),x=u(l,"BR",{},!1),d(x).forEach(f),T=h(l,"\n        "),j=u(l,"LABEL",{class:!0},!1);var g=d(j);L=u(g,"INPUT",{class:!0,type:!0,name:!0,value:!0},!1),d(L).forEach(f),$=h(g,"\n          All"),g.forEach(f),l.forEach(f),this.h()},h:function(){e.$$binding_groups[0].push(t),v(t,"class","uk-radio"),v(t,"type","radio"),v(t,"name","radio2"),t.checked=!0,t.__value=1,t.value=t.__value,v(a,"class","svelte-1pxjc4v"),e.$$binding_groups[0].push(b),v(b,"class","uk-radio"),v(b,"type","radio"),v(b,"name","radio2"),b.__value=2,b.value=b.__value,v(k,"class","svelte-1pxjc4v"),e.$$binding_groups[0].push(L),v(L,"class","uk-radio"),v(L,"type","radio"),v(L,"name","radio2"),L.__value=3,L.value=L.__value,v(j,"class","svelte-1pxjc4v"),v(n,"class","uk-margin uk-grid-small uk-child-width-auto "),N=[g(t,"change",e.input0_change_handler),g(t,"change",e.updateFilters),g(b,"change",e.input1_change_handler),g(b,"change",e.updateFilters),g(L,"change",e.input2_change_handler),g(L,"change",e.updateFilters)]},m:function(l,i){p(l,n,i),m(n,a),m(a,t),t.checked=t.__value===e.selected,m(a,c),m(n,o),m(n,r),m(n,s),m(n,k),m(k,b),b.checked=b.__value===e.selected,m(k,y),m(n,D),m(n,x),m(n,T),m(n,j),m(j,L),L.checked=L.__value===e.selected,m(j,$)},p:function(e,n){e.selected&&(t.checked=t.__value===n.selected),e.selected&&(b.checked=b.__value===n.selected),e.selected&&(L.checked=L.__value===n.selected)},d:function(a){a&&f(n),e.$$binding_groups[0].splice(e.$$binding_groups[0].indexOf(t),1),e.$$binding_groups[0].splice(e.$$binding_groups[0].indexOf(b),1),e.$$binding_groups[0].splice(e.$$binding_groups[0].indexOf(L),1),_(N)}}}function S(e){var n;return{c:function(){n=l("div"),this.h()},l:function(e){n=u(e,"DIV",{"uk-spinner":!0},!1),d(n).forEach(f),this.h()},h:function(){v(n,"uk-spinner","ratio: 2")},m:function(e,a){p(e,n,a)},d:function(e){e&&f(n)}}}function B(e){var n,a,t,c,o,r,s,v,g,_,k;return{c:function(){n=l("h3"),a=l("b"),t=E("Sorry"),c=i(),o=l("h5"),r=E("Something went wrong. Please try again later."),s=i(),v=l("p"),g=E("Error details:\n        "),_=l("b"),k=E(e.errorMessage)},l:function(l){n=u(l,"H3",{},!1);var i=d(n);a=u(i,"B",{},!1);var p=d(a);t=h(p,"Sorry"),p.forEach(f),i.forEach(f),c=h(l,"\n      "),o=u(l,"H5",{},!1);var m=d(o);r=h(m,"Something went wrong. Please try again later."),m.forEach(f),s=h(l,"\n      "),v=u(l,"P",{},!1);var E=d(v);g=h(E,"Error details:\n        "),_=u(E,"B",{},!1);var b=d(_);k=h(b,e.errorMessage),b.forEach(f),E.forEach(f)},m:function(e,l){p(e,n,l),m(n,a),m(a,t),p(e,c,l),p(e,o,l),m(o,r),p(e,s,l),p(e,v,l),m(v,g),m(v,_),m(_,k)},p:function(e,n){e.errorMessage&&y(k,n.errorMessage)},d:function(e){e&&(f(n),f(c),f(o),f(s),f(v))}}}function P(e){for(var n,a,t,c,o,r,s,g,_,k,y,D,x,T,j,L,$,F=e.filteredFoodData,w=[],A=0;A<F.length;A+=1)w[A]=O(N(e,F,A));return{c:function(){n=l("div"),a=l("table"),t=l("thead"),c=l("tr"),o=l("th"),r=E("Name"),s=i(),g=l("th"),_=E("Safe"),k=i(),y=l("th"),D=E("Category"),x=i(),T=l("th"),j=E("Note"),L=i(),$=l("tbody");for(var e=0;e<w.length;e+=1)w[e].c();this.h()},l:function(e){n=u(e,"DIV",{class:!0},!1);var l=d(n);a=u(l,"TABLE",{class:!0},!1);var i=d(a);t=u(i,"THEAD",{},!1);var v=d(t);c=u(v,"TR",{class:!0},!1);var p=d(c);o=u(p,"TH",{class:!0},!1);var m=d(o);r=h(m,"Name"),m.forEach(f),s=h(p,"\n            "),g=u(p,"TH",{class:!0},!1);var E=d(g);_=h(E,"Safe"),E.forEach(f),k=h(p,"\n            "),y=u(p,"TH",{class:!0},!1);var b=d(y);D=h(b,"Category"),b.forEach(f),x=h(p,"\n            "),T=u(p,"TH",{class:!0},!1);var N=d(T);j=h(N,"Note"),N.forEach(f),p.forEach(f),v.forEach(f),L=h(i,"\n        "),$=u(i,"TBODY",{},!1);for(var F=d($),A=0;A<w.length;A+=1)w[A].l(F);F.forEach(f),i.forEach(f),l.forEach(f),this.h()},h:function(){v(o,"class","svelte-1pxjc4v"),v(g,"class","svelte-1pxjc4v"),v(y,"class","svelte-1pxjc4v"),v(T,"class","svelte-1pxjc4v"),v(c,"class","svelte-1pxjc4v"),v(a,"class","uk-table uk-table-divider svelte-1pxjc4v"),v(n,"class","controls-container table-container svelte-1pxjc4v")},m:function(e,l){p(e,n,l),m(n,a),m(a,t),m(t,c),m(c,o),m(o,r),m(c,s),m(c,g),m(g,_),m(c,k),m(c,y),m(y,D),m(c,x),m(c,T),m(T,j),m(a,L),m(a,$);for(var i=0;i<w.length;i+=1)w[i].m($,null)},p:function(e,n){if(e.filteredFoodData){F=n.filteredFoodData;for(var a=0;a<F.length;a+=1){var t=N(n,F,a);w[a]?w[a].p(e,t):(w[a]=O(t),w[a].c(),w[a].m($,null))}for(;a<w.length;a+=1)w[a].d(1);w.length=F.length}},d:function(e){e&&f(n),b(w,e)}}}function V(e){var n;return{c:function(){n=l("span"),this.h()},l:function(e){n=u(e,"SPAN",{class:!0,"uk-icon":!0},!1),d(n).forEach(f),this.h()},h:function(){v(n,"class","uk-margin-small-right no-icon"),v(n,"uk-icon","close")},m:function(e,a){p(e,n,a)},d:function(e){e&&f(n)}}}function M(e){var n;return{c:function(){n=l("span"),this.h()},l:function(e){n=u(e,"SPAN",{class:!0,"uk-icon":!0},!1),d(n).forEach(f),this.h()},h:function(){v(n,"class","uk-margin-small-right yes-icon"),v(n,"uk-icon","check")},m:function(e,a){p(e,n,a)},d:function(e){e&&f(n)}}}function O(e){var n,a,t,c,o,r,s,g,_,k,b,D,x,T=e.food.name+"",j=e.food.category+"",L=e.food.comments+"";function $(e){return!0===e.food.recommended?M:!1===e.food.recommended?V:void 0}var N=$(e),F=N&&N(e);return{c:function(){n=l("tr"),a=l("td"),t=l("b"),c=E(T),o=i(),r=l("td"),F&&F.c(),s=i(),g=l("td"),_=E(j),k=i(),b=l("td"),D=E(L),x=i(),this.h()},l:function(e){n=u(e,"TR",{class:!0},!1);var l=d(n);a=u(l,"TD",{class:!0},!1);var i=d(a);t=u(i,"B",{},!1);var v=d(t);c=h(v,T),v.forEach(f),i.forEach(f),o=h(l,"\n              "),r=u(l,"TD",{class:!0},!1);var p=d(r);F&&F.l(p),p.forEach(f),s=h(l,"\n              "),g=u(l,"TD",{class:!0},!1);var m=d(g);_=h(m,j),m.forEach(f),k=h(l,"\n              "),b=u(l,"TD",{class:!0},!1);var E=d(b);D=h(E,L),E.forEach(f),x=h(l,"\n            "),l.forEach(f),this.h()},h:function(){v(a,"class","reduced-padding svelte-1pxjc4v"),v(r,"class","reduced-padding svelte-1pxjc4v"),v(g,"class","reduced-padding svelte-1pxjc4v"),v(b,"class","reduced-padding svelte-1pxjc4v"),v(n,"class","svelte-1pxjc4v")},m:function(e,l){p(e,n,l),m(n,a),m(a,t),m(t,c),m(n,o),m(n,r),F&&F.m(r,null),m(n,s),m(n,g),m(g,_),m(n,k),m(n,b),m(b,D),m(n,x)},p:function(e,n){e.filteredFoodData&&T!==(T=n.food.name+"")&&y(c,T),N!==(N=$(n))&&(F&&F.d(1),(F=N&&N(n))&&(F.c(),F.m(r,null))),e.filteredFoodData&&j!==(j=n.food.category+"")&&y(_,j),e.filteredFoodData&&L!==(L=n.food.comments+"")&&y(D,L)},d:function(e){e&&f(n),F&&F.d()}}}function H(e){var n,a,t,c,o,r,s,g,_=e.foodData.length>0&&w(e),E=e.categories.length>1&&A(e),k=e.foodData.length>0&&I(e),b=e.isLoading&&S(),y=!e.isLoading&&!e.foodData.length>0&&e.errorMessage&&B(e),x=e.foodData.length>0&&P(e);return{c:function(){n=i(),a=l("div"),t=l("div"),_&&_.c(),c=i(),E&&E.c(),o=i(),k&&k.c(),r=i(),b&&b.c(),s=i(),y&&y.c(),g=i(),x&&x.c(),this.h()},l:function(e){n=h(e,"\n\n"),a=u(e,"DIV",{class:!0},!1);var l=d(a);t=u(l,"DIV",{class:!0},!1);var i=d(t);_&&_.l(i),c=h(i,"\n    "),E&&E.l(i),o=h(i,"\n\n    "),k&&k.l(i),r=h(i,"\n\n    "),b&&b.l(i),s=h(i,"\n\n    "),y&&y.l(i),i.forEach(f),g=h(l,"\n\n  "),x&&x.l(l),l.forEach(f),this.h()},h:function(){document.title="Food guardian",v(t,"class","controls-container stick svelte-1pxjc4v"),v(a,"class","main-container svelte-1pxjc4v")},m:function(e,l){p(e,n,l),p(e,a,l),m(a,t),_&&_.m(t,null),m(t,c),E&&E.m(t,null),m(t,o),k&&k.m(t,null),m(t,r),b&&b.m(t,null),m(t,s),y&&y.m(t,null),m(a,g),x&&x.m(a,null)},p:function(e,n){n.foodData.length>0?_?_.p(e,n):((_=w(n)).c(),_.m(t,c)):_&&(_.d(1),_=null),n.categories.length>1?E?E.p(e,n):((E=A(n)).c(),E.m(t,o)):E&&(E.d(1),E=null),n.foodData.length>0?k?k.p(e,n):((k=I(n)).c(),k.m(t,r)):k&&(k.d(1),k=null),n.isLoading?b||((b=S()).c(),b.m(t,s)):b&&(b.d(1),b=null),!n.isLoading&&!n.foodData.length>0&&n.errorMessage?y?y.p(e,n):((y=B(n)).c(),y.m(t,null)):y&&(y.d(1),y=null),n.foodData.length>0?x?x.p(e,n):((x=P(n)).c(),x.m(a,null)):x&&(x.d(1),x=null)},i:D,o:D,d:function(e){e&&(f(n),f(a)),_&&_.d(),E&&E.d(),k&&k.d(),b&&b.d(),y&&y.d(),x&&x.d()}}}function R(e,n,a){var t=[],c=["All"],o="",r=[],s=3,l=!0,i="All",u=!1,d="";function f(){return h.apply(this,arguments)}function h(){return(h=L($.mark(function e(){var n,o;return $.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a("isLoading",u=!0),e.prev=1,"https://go-food-api.herokuapp.com/api/foods",e.next=5,fetch("https://go-food-api.herokuapp.com/api/foods");case 5:if((n=e.sent).ok){e.next=9;break}throw a("isLoading",u=!1),n;case 9:return e.next=11,n.json();case 11:o=e.sent,a("isLoading",u=!1),a("foodData",t=o),a("errorMessage",d=null),t.forEach(function(e){c.includes(e.category)||c.push(e.category)}),a("filteredFoodData",r=t),e.next=24;break;case 19:e.prev=19,e.t0=e.catch(1),a("isLoading",u=!1),console.log(e.t0),a("errorMessage",d=e.t0.statusText||e.t0.message);case 24:case"end":return e.stop()}},e,null,[[1,19]])}))).apply(this,arguments)}x(L($.mark(function e(){return $.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:f();case 1:case"end":return e.stop()}},e)})));return{foodData:t,categories:c,filterValue:o,filteredFoodData:r,selected:s,selectedCategory:i,isLoading:u,errorMessage:d,updateFilters:function(){a("filteredFoodData",r=t.filter(function(e){!function(e){switch(s){case 3:l=!0;break;case 2:l=!1===e;break;case 1:l=!0===e}}(e.recommended);var n="All"===i||e.category===i;return e.name.toLowerCase().includes(o.toLowerCase())&&l&&n}))},input_input_handler:function(){o=this.value,a("filterValue",o)},select_change_handler:function(){i=j(this),a("selectedCategory",i),a("categories",c)},input0_change_handler:function(){s=this.__value,a("selected",s)},input1_change_handler:function(){s=this.__value,a("selected",s)},input2_change_handler:function(){s=this.__value,a("selected",s)},$$binding_groups:[[]]}}export default(function(l){function i(e){var s;return n(this,i),s=a(this,t(i).call(this)),c(r(s),e,R,H,o,[]),s}return e(i,s),i}());
