import{S as e,i as a,s as t,e as c,a as r,b as n,d as s,f as l,g as o,h as i,C as d,j as h,k as u,D as f,t as g,E as v,F as p,q as m,n as _,G as E,H as k,I as y}from"./index.2f81c3c8.js";function b(e,a,t){const c=Object.create(e);return c.food=a[t],c}function D(e,a,t){const c=Object.create(e);return c.category=a[t],c}function x(e){var a,t,g,v,p;return{c(){a=c("form"),t=c("button"),g=r(),v=c("input"),this.h()},l(e){a=n(e,"FORM",{class:!0},!1);var c=s(a);t=n(c,"BUTTON",{"uk-search-icon":!0},!1),s(t).forEach(l),g=o(c,"\n        "),v=n(c,"INPUT",{class:!0,type:!0,placeholder:!0},!1),s(v).forEach(l),c.forEach(l),this.h()},h(){i(t,"uk-search-icon",""),i(v,"class","uk-search-input"),i(v,"type","search"),i(v,"placeholder","Search..."),i(a,"class","uk-search uk-search-default"),p=[d(v,"input",e.input_input_handler),d(v,"keydown",e.updateFilters)]},m(c,r){h(c,a,r),u(a,t),u(a,g),u(a,v),v.value=e.filterValue},p(e,a){e.filterValue&&(v.value=a.filterValue)},d(e){e&&l(a),f(p)}}}function T(e){for(var a,t,m,_,E,y,b,x,T,$,L,F,N=e.categories,A=[],C=0;C<N.length;C+=1)A[C]=j(D(e,N,C));return{c(){a=c("div"),t=c("h5"),m=g("Category"),_=r(),E=c("div"),y=c("select");for(var e=0;e<A.length;e+=1)A[e].c();b=r(),x=c("button"),T=c("span"),$=r(),L=c("span"),this.h()},l(e){a=n(e,"DIV",{class:!0},!1);var c=s(a);t=n(c,"H5",{},!1);var r=s(t);m=o(r,"Category"),r.forEach(l),_=o(c,"\n        "),E=n(c,"DIV",{"uk-form-custom":!0},!1);var i=s(E);y=n(i,"SELECT",{},!1);for(var d=s(y),h=0;h<A.length;h+=1)A[h].l(d);d.forEach(l),b=o(i,"\n          "),x=n(i,"BUTTON",{class:!0,type:!0,tabindex:!0},!1);var u=s(x);T=n(u,"SPAN",{},!1),s(T).forEach(l),$=o(u,"\n            "),L=n(u,"SPAN",{"uk-icon":!0},!1),s(L).forEach(l),u.forEach(l),i.forEach(l),c.forEach(l),this.h()},h(){void 0===e.selectedCategory&&k(()=>e.select_change_handler.call(y)),i(L,"uk-icon","icon: chevron-down"),i(x,"class","uk-button uk-button-default"),i(x,"type","button"),i(x,"tabindex","-1"),i(E,"uk-form-custom","target: > * > span:first-child"),i(a,"class","uk-margin"),F=[d(y,"change",e.select_change_handler),d(y,"change",e.updateFilters)]},m(c,r){h(c,a,r),u(a,t),u(t,m),u(a,_),u(a,E),u(E,y);for(var n=0;n<A.length;n+=1)A[n].m(y,null);v(y,e.selectedCategory),u(E,b),u(E,x),u(x,T),u(x,$),u(x,L)},p(e,a){if(e.categories){N=a.categories;for(var t=0;t<N.length;t+=1){const c=D(a,N,t);A[t]?A[t].p(e,c):(A[t]=j(c),A[t].c(),A[t].m(y,null))}for(;t<A.length;t+=1)A[t].d(1);A.length=N.length}e.selectedCategory&&v(y,a.selectedCategory)},d(e){e&&l(a),p(A,e),f(F)}}}function j(e){var a,t,r=e.category+"";return{c(){a=c("option"),t=g(r),this.h()},l(e){a=n(e,"OPTION",{value:!0},!1);var c=s(a);t=o(c,r),c.forEach(l),this.h()},h(){a.__value=e.category,a.value=a.__value},m(e,c){h(e,a,c),u(a,t)},p(e,t){a.value=a.__value},d(e){e&&l(a)}}}function $(e){var a,t,v,p,m,_,E,k,y,b,D,x,T,j,$,L,F;return{c(){a=c("div"),t=c("label"),v=c("input"),p=g("\n          Recommended"),m=r(),_=c("br"),E=r(),k=c("label"),y=c("input"),b=g("\n          Not Recommended"),D=r(),x=c("br"),T=r(),j=c("label"),$=c("input"),L=g("\n          All"),this.h()},l(e){a=n(e,"DIV",{class:!0},!1);var c=s(a);t=n(c,"LABEL",{class:!0},!1);var r=s(t);v=n(r,"INPUT",{class:!0,type:!0,name:!0,checked:!0,value:!0},!1),s(v).forEach(l),p=o(r,"\n          Recommended"),r.forEach(l),m=o(c,"\n        "),_=n(c,"BR",{},!1),s(_).forEach(l),E=o(c,"\n        "),k=n(c,"LABEL",{class:!0},!1);var i=s(k);y=n(i,"INPUT",{class:!0,type:!0,name:!0,value:!0},!1),s(y).forEach(l),b=o(i,"\n          Not Recommended"),i.forEach(l),D=o(c,"\n        "),x=n(c,"BR",{},!1),s(x).forEach(l),T=o(c,"\n        "),j=n(c,"LABEL",{class:!0},!1);var d=s(j);$=n(d,"INPUT",{class:!0,type:!0,name:!0,value:!0},!1),s($).forEach(l),L=o(d,"\n          All"),d.forEach(l),c.forEach(l),this.h()},h(){e.$$binding_groups[0].push(v),i(v,"class","uk-radio"),i(v,"type","radio"),i(v,"name","radio2"),v.checked=!0,v.__value=1,v.value=v.__value,i(t,"class","svelte-1pxjc4v"),e.$$binding_groups[0].push(y),i(y,"class","uk-radio"),i(y,"type","radio"),i(y,"name","radio2"),y.__value=2,y.value=y.__value,i(k,"class","svelte-1pxjc4v"),e.$$binding_groups[0].push($),i($,"class","uk-radio"),i($,"type","radio"),i($,"name","radio2"),$.__value=3,$.value=$.__value,i(j,"class","svelte-1pxjc4v"),i(a,"class","uk-margin uk-grid-small uk-child-width-auto "),F=[d(v,"change",e.input0_change_handler),d(v,"change",e.updateFilters),d(y,"change",e.input1_change_handler),d(y,"change",e.updateFilters),d($,"change",e.input2_change_handler),d($,"change",e.updateFilters)]},m(c,r){h(c,a,r),u(a,t),u(t,v),v.checked=v.__value===e.selected,u(t,p),u(a,m),u(a,_),u(a,E),u(a,k),u(k,y),y.checked=y.__value===e.selected,u(k,b),u(a,D),u(a,x),u(a,T),u(a,j),u(j,$),$.checked=$.__value===e.selected,u(j,L)},p(e,a){e.selected&&(v.checked=v.__value===a.selected),e.selected&&(y.checked=y.__value===a.selected),e.selected&&($.checked=$.__value===a.selected)},d(t){t&&l(a),e.$$binding_groups[0].splice(e.$$binding_groups[0].indexOf(v),1),e.$$binding_groups[0].splice(e.$$binding_groups[0].indexOf(y),1),e.$$binding_groups[0].splice(e.$$binding_groups[0].indexOf($),1),f(F)}}}function L(e){var a;return{c(){a=c("div"),this.h()},l(e){a=n(e,"DIV",{"uk-spinner":!0},!1),s(a).forEach(l),this.h()},h(){i(a,"uk-spinner","ratio: 2")},m(e,t){h(e,a,t)},d(e){e&&l(a)}}}function F(e){var a,t,i,d,f,v,p,_,E,k,y;return{c(){a=c("h3"),t=c("b"),i=g("Sorry"),d=r(),f=c("h5"),v=g("Something went wrong. Please try again later."),p=r(),_=c("p"),E=g("Error details:\n        "),k=c("b"),y=g(e.errorMessage)},l(c){a=n(c,"H3",{},!1);var r=s(a);t=n(r,"B",{},!1);var h=s(t);i=o(h,"Sorry"),h.forEach(l),r.forEach(l),d=o(c,"\n      "),f=n(c,"H5",{},!1);var u=s(f);v=o(u,"Something went wrong. Please try again later."),u.forEach(l),p=o(c,"\n      "),_=n(c,"P",{},!1);var g=s(_);E=o(g,"Error details:\n        "),k=n(g,"B",{},!1);var m=s(k);y=o(m,e.errorMessage),m.forEach(l),g.forEach(l)},m(e,c){h(e,a,c),u(a,t),u(t,i),h(e,d,c),h(e,f,c),u(f,v),h(e,p,c),h(e,_,c),u(_,E),u(_,k),u(k,y)},p(e,a){e.errorMessage&&m(y,a.errorMessage)},d(e){e&&(l(a),l(d),l(f),l(p),l(_))}}}function N(e){for(var a,t,d,f,v,m,_,E,k,y,D,x,T,j,$,L,F,N=e.filteredFoodData,A=[],C=0;C<N.length;C+=1)A[C]=w(b(e,N,C));return{c(){a=c("div"),t=c("table"),d=c("thead"),f=c("tr"),v=c("th"),m=g("Name"),_=r(),E=c("th"),k=g("Safe"),y=r(),D=c("th"),x=g("Category"),T=r(),j=c("th"),$=g("Note"),L=r(),F=c("tbody");for(var e=0;e<A.length;e+=1)A[e].c();this.h()},l(e){a=n(e,"DIV",{class:!0},!1);var c=s(a);t=n(c,"TABLE",{class:!0},!1);var r=s(t);d=n(r,"THEAD",{},!1);var i=s(d);f=n(i,"TR",{class:!0},!1);var h=s(f);v=n(h,"TH",{class:!0},!1);var u=s(v);m=o(u,"Name"),u.forEach(l),_=o(h,"\n            "),E=n(h,"TH",{class:!0},!1);var g=s(E);k=o(g,"Safe"),g.forEach(l),y=o(h,"\n            "),D=n(h,"TH",{class:!0},!1);var p=s(D);x=o(p,"Category"),p.forEach(l),T=o(h,"\n            "),j=n(h,"TH",{class:!0},!1);var b=s(j);$=o(b,"Note"),b.forEach(l),h.forEach(l),i.forEach(l),L=o(r,"\n        "),F=n(r,"TBODY",{},!1);for(var N=s(F),C=0;C<A.length;C+=1)A[C].l(N);N.forEach(l),r.forEach(l),c.forEach(l),this.h()},h(){i(v,"class","svelte-1pxjc4v"),i(E,"class","svelte-1pxjc4v"),i(D,"class","svelte-1pxjc4v"),i(j,"class","svelte-1pxjc4v"),i(f,"class","svelte-1pxjc4v"),i(t,"class","uk-table uk-table-divider svelte-1pxjc4v"),i(a,"class","controls-container table-container svelte-1pxjc4v")},m(e,c){h(e,a,c),u(a,t),u(t,d),u(d,f),u(f,v),u(v,m),u(f,_),u(f,E),u(E,k),u(f,y),u(f,D),u(D,x),u(f,T),u(f,j),u(j,$),u(t,L),u(t,F);for(var r=0;r<A.length;r+=1)A[r].m(F,null)},p(e,a){if(e.filteredFoodData){N=a.filteredFoodData;for(var t=0;t<N.length;t+=1){const c=b(a,N,t);A[t]?A[t].p(e,c):(A[t]=w(c),A[t].c(),A[t].m(F,null))}for(;t<A.length;t+=1)A[t].d(1);A.length=N.length}},d(e){e&&l(a),p(A,e)}}}function A(e){var a;return{c(){a=c("span"),this.h()},l(e){a=n(e,"SPAN",{class:!0,"uk-icon":!0},!1),s(a).forEach(l),this.h()},h(){i(a,"class","uk-margin-small-right no-icon"),i(a,"uk-icon","close")},m(e,t){h(e,a,t)},d(e){e&&l(a)}}}function C(e){var a;return{c(){a=c("span"),this.h()},l(e){a=n(e,"SPAN",{class:!0,"uk-icon":!0},!1),s(a).forEach(l),this.h()},h(){i(a,"class","uk-margin-small-right yes-icon"),i(a,"uk-icon","check")},m(e,t){h(e,a,t)},d(e){e&&l(a)}}}function w(e){var a,t,d,f,v,p,_,E,k,y,b,D,x,T=e.food.name+"",j=e.food.category+"",$=e.food.comments+"";function L(e){return!0===e.food.recommended?C:!1===e.food.recommended?A:void 0}var F=L(e),N=F&&F(e);return{c(){a=c("tr"),t=c("td"),d=c("b"),f=g(T),v=r(),p=c("td"),N&&N.c(),_=r(),E=c("td"),k=g(j),y=r(),b=c("td"),D=g($),x=r(),this.h()},l(e){a=n(e,"TR",{class:!0},!1);var c=s(a);t=n(c,"TD",{class:!0},!1);var r=s(t);d=n(r,"B",{},!1);var i=s(d);f=o(i,T),i.forEach(l),r.forEach(l),v=o(c,"\n              "),p=n(c,"TD",{class:!0},!1);var h=s(p);N&&N.l(h),h.forEach(l),_=o(c,"\n              "),E=n(c,"TD",{class:!0},!1);var u=s(E);k=o(u,j),u.forEach(l),y=o(c,"\n              "),b=n(c,"TD",{class:!0},!1);var g=s(b);D=o(g,$),g.forEach(l),x=o(c,"\n            "),c.forEach(l),this.h()},h(){i(t,"class","reduced-padding svelte-1pxjc4v"),i(p,"class","reduced-padding svelte-1pxjc4v"),i(E,"class","reduced-padding svelte-1pxjc4v"),i(b,"class","reduced-padding svelte-1pxjc4v"),i(a,"class","svelte-1pxjc4v")},m(e,c){h(e,a,c),u(a,t),u(t,d),u(d,f),u(a,v),u(a,p),N&&N.m(p,null),u(a,_),u(a,E),u(E,k),u(a,y),u(a,b),u(b,D),u(a,x)},p(e,a){e.filteredFoodData&&T!==(T=a.food.name+"")&&m(f,T),F!==(F=L(a))&&(N&&N.d(1),(N=F&&F(a))&&(N.c(),N.m(p,null))),e.filteredFoodData&&j!==(j=a.food.category+"")&&m(k,j),e.filteredFoodData&&$!==($=a.food.comments+"")&&m(D,$)},d(e){e&&l(a),N&&N.d()}}}function I(e){var a,t,d,f,g,v,p,m,E=e.foodData.length>0&&x(e),k=e.categories.length>1&&T(e),y=e.foodData.length>0&&$(e),b=e.isLoading&&L(),D=!e.isLoading&&!e.foodData.length>0&&e.errorMessage&&F(e),j=e.foodData.length>0&&N(e);return{c(){a=r(),t=c("div"),d=c("div"),E&&E.c(),f=r(),k&&k.c(),g=r(),y&&y.c(),v=r(),b&&b.c(),p=r(),D&&D.c(),m=r(),j&&j.c(),this.h()},l(e){a=o(e,"\n\n"),t=n(e,"DIV",{class:!0},!1);var c=s(t);d=n(c,"DIV",{class:!0},!1);var r=s(d);E&&E.l(r),f=o(r,"\n    "),k&&k.l(r),g=o(r,"\n\n    "),y&&y.l(r),v=o(r,"\n\n    "),b&&b.l(r),p=o(r,"\n\n    "),D&&D.l(r),r.forEach(l),m=o(c,"\n\n  "),j&&j.l(c),c.forEach(l),this.h()},h(){document.title="Food guardian",i(d,"class","controls-container stick svelte-1pxjc4v"),i(t,"class","main-container svelte-1pxjc4v")},m(e,c){h(e,a,c),h(e,t,c),u(t,d),E&&E.m(d,null),u(d,f),k&&k.m(d,null),u(d,g),y&&y.m(d,null),u(d,v),b&&b.m(d,null),u(d,p),D&&D.m(d,null),u(t,m),j&&j.m(t,null)},p(e,a){a.foodData.length>0?E?E.p(e,a):((E=x(a)).c(),E.m(d,f)):E&&(E.d(1),E=null),a.categories.length>1?k?k.p(e,a):((k=T(a)).c(),k.m(d,g)):k&&(k.d(1),k=null),a.foodData.length>0?y?y.p(e,a):((y=$(a)).c(),y.m(d,v)):y&&(y.d(1),y=null),a.isLoading?b||((b=L()).c(),b.m(d,p)):b&&(b.d(1),b=null),!a.isLoading&&!a.foodData.length>0&&a.errorMessage?D?D.p(e,a):((D=F(a)).c(),D.m(d,null)):D&&(D.d(1),D=null),a.foodData.length>0?j?j.p(e,a):((j=N(a)).c(),j.m(t,null)):j&&(j.d(1),j=null)},i:_,o:_,d(e){e&&(l(a),l(t)),E&&E.d(),k&&k.d(),y&&y.d(),b&&b.d(),D&&D.d(),j&&j.d()}}}function S(e,a,t){let c=[],r=["All"],n="",s=[],l=3,o=!0,i="All",d=!1,h="";E(async()=>{!async function(){t("isLoading",d=!0);try{const e="https://go-food-api.herokuapp.com/api/foods",a=await fetch(e);if(!a.ok)throw t("isLoading",d=!1),a;const n=await a.json();t("isLoading",d=!1),t("foodData",c=n),t("errorMessage",h=null),c.forEach(e=>{r.includes(e.category)||r.push(e.category)}),t("filteredFoodData",s=c)}catch(e){t("isLoading",d=!1),console.log(e),t("errorMessage",h=e.statusText||e.message)}}()});return{foodData:c,categories:r,filterValue:n,filteredFoodData:s,selected:l,selectedCategory:i,isLoading:d,errorMessage:h,updateFilters:function(){t("filteredFoodData",s=c.filter(e=>{!function(e){switch(l){case 3:o=!0;break;case 2:o=!1===e;break;case 1:o=!0===e}}(e.recommended);let a="All"===i||e.category===i;return e.name.toLowerCase().includes(n.toLowerCase())&&o&&a}))},input_input_handler:function(){n=this.value,t("filterValue",n)},select_change_handler:function(){i=y(this),t("selectedCategory",i),t("categories",r)},input0_change_handler:function(){l=this.__value,t("selected",l)},input1_change_handler:function(){l=this.__value,t("selected",l)},input2_change_handler:function(){l=this.__value,t("selected",l)},$$binding_groups:[[]]}}export default class extends e{constructor(e){super(),a(this,e,S,I,t,[])}}
