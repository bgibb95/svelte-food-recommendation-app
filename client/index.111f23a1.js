import{S as e,i as a,s as t,e as n,a as r,b as c,d as s,f as l,g as o,h as i,C as d,j as h,k as u,D as f,t as g,E as v,F as p,q as m,n as _,G as E,H as k,I as y}from"./index.2f81c3c8.js";function b(e,a,t){const n=Object.create(e);return n.food=a[t],n}function D(e,a,t){const n=Object.create(e);return n.category=a[t],n}function x(e){var a,t,g,v,p;return{c(){a=n("form"),t=n("button"),g=r(),v=n("input"),this.h()},l(e){a=c(e,"FORM",{class:!0},!1);var n=s(a);t=c(n,"BUTTON",{"uk-search-icon":!0},!1),s(t).forEach(l),g=o(n,"\n        "),v=c(n,"INPUT",{class:!0,type:!0,placeholder:!0},!1),s(v).forEach(l),n.forEach(l),this.h()},h(){i(t,"uk-search-icon",""),i(v,"class","uk-search-input"),i(v,"type","search"),i(v,"placeholder","Search..."),i(a,"class","uk-search uk-search-default"),p=[d(v,"input",e.input_input_handler),d(v,"keydown",e.updateFilters)]},m(n,r){h(n,a,r),u(a,t),u(a,g),u(a,v),v.value=e.filterValue},p(e,a){e.filterValue&&(v.value=a.filterValue)},d(e){e&&l(a),f(p)}}}function T(e){for(var a,t,m,_,E,y,b,x,T,L,$,w,F=e.categories,N=[],A=0;A<F.length;A+=1)N[A]=j(D(e,F,A));return{c(){a=n("div"),t=n("h5"),m=g("Category"),_=r(),E=n("div"),y=n("select");for(var e=0;e<N.length;e+=1)N[e].c();b=r(),x=n("button"),T=n("span"),L=r(),$=n("span"),this.h()},l(e){a=c(e,"DIV",{class:!0},!1);var n=s(a);t=c(n,"H5",{},!1);var r=s(t);m=o(r,"Category"),r.forEach(l),_=o(n,"\n        "),E=c(n,"DIV",{"uk-form-custom":!0},!1);var i=s(E);y=c(i,"SELECT",{},!1);for(var d=s(y),h=0;h<N.length;h+=1)N[h].l(d);d.forEach(l),b=o(i,"\n          "),x=c(i,"BUTTON",{class:!0,type:!0,tabindex:!0},!1);var u=s(x);T=c(u,"SPAN",{},!1),s(T).forEach(l),L=o(u,"\n            "),$=c(u,"SPAN",{"uk-icon":!0},!1),s($).forEach(l),u.forEach(l),i.forEach(l),n.forEach(l),this.h()},h(){void 0===e.selectedCategory&&k(()=>e.select_change_handler.call(y)),i($,"uk-icon","icon: chevron-down"),i(x,"class","uk-button uk-button-default"),i(x,"type","button"),i(x,"tabindex","-1"),i(E,"uk-form-custom","target: > * > span:first-child"),i(a,"class","uk-margin"),w=[d(y,"change",e.select_change_handler),d(y,"change",e.updateFilters)]},m(n,r){h(n,a,r),u(a,t),u(t,m),u(a,_),u(a,E),u(E,y);for(var c=0;c<N.length;c+=1)N[c].m(y,null);v(y,e.selectedCategory),u(E,b),u(E,x),u(x,T),u(x,L),u(x,$)},p(e,a){if(e.categories){F=a.categories;for(var t=0;t<F.length;t+=1){const n=D(a,F,t);N[t]?N[t].p(e,n):(N[t]=j(n),N[t].c(),N[t].m(y,null))}for(;t<N.length;t+=1)N[t].d(1);N.length=F.length}e.selectedCategory&&v(y,a.selectedCategory)},d(e){e&&l(a),p(N,e),f(w)}}}function j(e){var a,t,r=e.category+"";return{c(){a=n("option"),t=g(r),this.h()},l(e){a=c(e,"OPTION",{value:!0},!1);var n=s(a);t=o(n,r),n.forEach(l),this.h()},h(){a.__value=e.category,a.value=a.__value},m(e,n){h(e,a,n),u(a,t)},p(e,t){a.value=a.__value},d(e){e&&l(a)}}}function L(e){var a,t,v,p,m,_,E,k,y,b,D,x,T,j,L,$,w;return{c(){a=n("div"),t=n("label"),v=n("input"),p=g("\n          Recommended"),m=r(),_=n("br"),E=r(),k=n("label"),y=n("input"),b=g("\n          Not Recommended"),D=r(),x=n("br"),T=r(),j=n("label"),L=n("input"),$=g("\n          All"),this.h()},l(e){a=c(e,"DIV",{class:!0},!1);var n=s(a);t=c(n,"LABEL",{class:!0},!1);var r=s(t);v=c(r,"INPUT",{class:!0,type:!0,name:!0,checked:!0,value:!0},!1),s(v).forEach(l),p=o(r,"\n          Recommended"),r.forEach(l),m=o(n,"\n        "),_=c(n,"BR",{},!1),s(_).forEach(l),E=o(n,"\n        "),k=c(n,"LABEL",{class:!0},!1);var i=s(k);y=c(i,"INPUT",{class:!0,type:!0,name:!0,value:!0},!1),s(y).forEach(l),b=o(i,"\n          Not Recommended"),i.forEach(l),D=o(n,"\n        "),x=c(n,"BR",{},!1),s(x).forEach(l),T=o(n,"\n        "),j=c(n,"LABEL",{class:!0},!1);var d=s(j);L=c(d,"INPUT",{class:!0,type:!0,name:!0,value:!0},!1),s(L).forEach(l),$=o(d,"\n          All"),d.forEach(l),n.forEach(l),this.h()},h(){e.$$binding_groups[0].push(v),i(v,"class","uk-radio"),i(v,"type","radio"),i(v,"name","radio2"),v.checked=!0,v.__value=1,v.value=v.__value,i(t,"class","svelte-1pxjc4v"),e.$$binding_groups[0].push(y),i(y,"class","uk-radio"),i(y,"type","radio"),i(y,"name","radio2"),y.__value=2,y.value=y.__value,i(k,"class","svelte-1pxjc4v"),e.$$binding_groups[0].push(L),i(L,"class","uk-radio"),i(L,"type","radio"),i(L,"name","radio2"),L.__value=3,L.value=L.__value,i(j,"class","svelte-1pxjc4v"),i(a,"class","uk-margin uk-grid-small uk-child-width-auto "),w=[d(v,"change",e.input0_change_handler),d(v,"change",e.updateFilters),d(y,"change",e.input1_change_handler),d(y,"change",e.updateFilters),d(L,"change",e.input2_change_handler),d(L,"change",e.updateFilters)]},m(n,r){h(n,a,r),u(a,t),u(t,v),v.checked=v.__value===e.selected,u(t,p),u(a,m),u(a,_),u(a,E),u(a,k),u(k,y),y.checked=y.__value===e.selected,u(k,b),u(a,D),u(a,x),u(a,T),u(a,j),u(j,L),L.checked=L.__value===e.selected,u(j,$)},p(e,a){e.selected&&(v.checked=v.__value===a.selected),e.selected&&(y.checked=y.__value===a.selected),e.selected&&(L.checked=L.__value===a.selected)},d(t){t&&l(a),e.$$binding_groups[0].splice(e.$$binding_groups[0].indexOf(v),1),e.$$binding_groups[0].splice(e.$$binding_groups[0].indexOf(y),1),e.$$binding_groups[0].splice(e.$$binding_groups[0].indexOf(L),1),f(w)}}}function $(e){var a;return{c(){a=n("div"),this.h()},l(e){a=c(e,"DIV",{"uk-spinner":!0},!1),s(a).forEach(l),this.h()},h(){i(a,"uk-spinner","ratio: 2")},m(e,t){h(e,a,t)},d(e){e&&l(a)}}}function w(e){var a,t,i,d,f,v,p,_,E,k,y;return{c(){a=n("h3"),t=n("b"),i=g("Sorry"),d=r(),f=n("h5"),v=g("Something went wrong. Please try again later."),p=r(),_=n("p"),E=g("Error details:\n        "),k=n("b"),y=g(e.errorMessage)},l(n){a=c(n,"H3",{},!1);var r=s(a);t=c(r,"B",{},!1);var h=s(t);i=o(h,"Sorry"),h.forEach(l),r.forEach(l),d=o(n,"\n      "),f=c(n,"H5",{},!1);var u=s(f);v=o(u,"Something went wrong. Please try again later."),u.forEach(l),p=o(n,"\n      "),_=c(n,"P",{},!1);var g=s(_);E=o(g,"Error details:\n        "),k=c(g,"B",{},!1);var m=s(k);y=o(m,e.errorMessage),m.forEach(l),g.forEach(l)},m(e,n){h(e,a,n),u(a,t),u(t,i),h(e,d,n),h(e,f,n),u(f,v),h(e,p,n),h(e,_,n),u(_,E),u(_,k),u(k,y)},p(e,a){e.errorMessage&&m(y,a.errorMessage)},d(e){e&&(l(a),l(d),l(f),l(p),l(_))}}}function F(e){var a,t;return{c(){a=n("a"),t=g("Read caveats"),this.h()},l(e){a=c(e,"A",{href:!0,target:!0},!1);var n=s(a);t=o(n,"Read caveats"),n.forEach(l),this.h()},h(){i(a,"href","https://www.healthline.com/nutrition/plant-paradox-diet"),i(a,"target","_blank")},m(e,n){h(e,a,n),u(a,t)},d(e){e&&l(a)}}}function N(e){for(var a,t,d,f,v,m,_,E,k,y,D,x,T,j,L,$,w,F=e.filteredFoodData,N=[],A=0;A<F.length;A+=1)N[A]=I(b(e,F,A));return{c(){a=n("div"),t=n("table"),d=n("thead"),f=n("tr"),v=n("th"),m=g("Name"),_=r(),E=n("th"),k=g("Safe"),y=r(),D=n("th"),x=g("Category"),T=r(),j=n("th"),L=g("Note"),$=r(),w=n("tbody");for(var e=0;e<N.length;e+=1)N[e].c();this.h()},l(e){a=c(e,"DIV",{class:!0},!1);var n=s(a);t=c(n,"TABLE",{class:!0},!1);var r=s(t);d=c(r,"THEAD",{},!1);var i=s(d);f=c(i,"TR",{class:!0},!1);var h=s(f);v=c(h,"TH",{class:!0},!1);var u=s(v);m=o(u,"Name"),u.forEach(l),_=o(h,"\n            "),E=c(h,"TH",{class:!0},!1);var g=s(E);k=o(g,"Safe"),g.forEach(l),y=o(h,"\n            "),D=c(h,"TH",{class:!0},!1);var p=s(D);x=o(p,"Category"),p.forEach(l),T=o(h,"\n            "),j=c(h,"TH",{class:!0},!1);var b=s(j);L=o(b,"Note"),b.forEach(l),h.forEach(l),i.forEach(l),$=o(r,"\n        "),w=c(r,"TBODY",{},!1);for(var F=s(w),A=0;A<N.length;A+=1)N[A].l(F);F.forEach(l),r.forEach(l),n.forEach(l),this.h()},h(){i(v,"class","svelte-1pxjc4v"),i(E,"class","svelte-1pxjc4v"),i(D,"class","svelte-1pxjc4v"),i(j,"class","svelte-1pxjc4v"),i(f,"class","svelte-1pxjc4v"),i(t,"class","uk-table uk-table-divider svelte-1pxjc4v"),i(a,"class","controls-container table-container svelte-1pxjc4v")},m(e,n){h(e,a,n),u(a,t),u(t,d),u(d,f),u(f,v),u(v,m),u(f,_),u(f,E),u(E,k),u(f,y),u(f,D),u(D,x),u(f,T),u(f,j),u(j,L),u(t,$),u(t,w);for(var r=0;r<N.length;r+=1)N[r].m(w,null)},p(e,a){if(e.filteredFoodData){F=a.filteredFoodData;for(var t=0;t<F.length;t+=1){const n=b(a,F,t);N[t]?N[t].p(e,n):(N[t]=I(n),N[t].c(),N[t].m(w,null))}for(;t<N.length;t+=1)N[t].d(1);N.length=F.length}},d(e){e&&l(a),p(N,e)}}}function A(e){var a;return{c(){a=n("span"),this.h()},l(e){a=c(e,"SPAN",{class:!0,"uk-icon":!0},!1),s(a).forEach(l),this.h()},h(){i(a,"class","uk-margin-small-right no-icon"),i(a,"uk-icon","close")},m(e,t){h(e,a,t)},d(e){e&&l(a)}}}function C(e){var a;return{c(){a=n("span"),this.h()},l(e){a=c(e,"SPAN",{class:!0,"uk-icon":!0},!1),s(a).forEach(l),this.h()},h(){i(a,"class","uk-margin-small-right yes-icon"),i(a,"uk-icon","check")},m(e,t){h(e,a,t)},d(e){e&&l(a)}}}function I(e){var a,t,d,f,v,p,_,E,k,y,b,D,x,T=e.food.name+"",j=e.food.category+"",L=e.food.comments+"";function $(e){return!0===e.food.recommended?C:!1===e.food.recommended?A:void 0}var w=$(e),F=w&&w(e);return{c(){a=n("tr"),t=n("td"),d=n("b"),f=g(T),v=r(),p=n("td"),F&&F.c(),_=r(),E=n("td"),k=g(j),y=r(),b=n("td"),D=g(L),x=r(),this.h()},l(e){a=c(e,"TR",{class:!0},!1);var n=s(a);t=c(n,"TD",{class:!0},!1);var r=s(t);d=c(r,"B",{},!1);var i=s(d);f=o(i,T),i.forEach(l),r.forEach(l),v=o(n,"\n              "),p=c(n,"TD",{class:!0},!1);var h=s(p);F&&F.l(h),h.forEach(l),_=o(n,"\n              "),E=c(n,"TD",{class:!0},!1);var u=s(E);k=o(u,j),u.forEach(l),y=o(n,"\n              "),b=c(n,"TD",{class:!0},!1);var g=s(b);D=o(g,L),g.forEach(l),x=o(n,"\n            "),n.forEach(l),this.h()},h(){i(t,"class","reduced-padding svelte-1pxjc4v"),i(p,"class","reduced-padding svelte-1pxjc4v"),i(E,"class","reduced-padding svelte-1pxjc4v"),i(b,"class","reduced-padding svelte-1pxjc4v"),i(a,"class","svelte-1pxjc4v")},m(e,n){h(e,a,n),u(a,t),u(t,d),u(d,f),u(a,v),u(a,p),F&&F.m(p,null),u(a,_),u(a,E),u(E,k),u(a,y),u(a,b),u(b,D),u(a,x)},p(e,a){e.filteredFoodData&&T!==(T=a.food.name+"")&&m(f,T),w!==(w=$(a))&&(F&&F.d(1),(F=w&&w(a))&&(F.c(),F.m(p,null))),e.filteredFoodData&&j!==(j=a.food.category+"")&&m(k,j),e.filteredFoodData&&L!==(L=a.food.comments+"")&&m(D,L)},d(e){e&&l(a),F&&F.d()}}}function S(e){var a,t,d,f,g,v,p,m,E,k=e.foodData.length>0&&x(e),y=e.categories.length>1&&T(e),b=e.foodData.length>0&&L(e),D=e.isLoading&&$(),j=!e.isLoading&&!e.foodData.length&&e.errorMessage&&w(e),A=!e.isLoading&&F(),C=e.foodData.length>0&&N(e);return{c(){a=r(),t=n("div"),d=n("div"),k&&k.c(),f=r(),y&&y.c(),g=r(),b&&b.c(),v=r(),D&&D.c(),p=r(),j&&j.c(),m=r(),A&&A.c(),E=r(),C&&C.c(),this.h()},l(e){a=o(e,"\n\n"),t=c(e,"DIV",{class:!0},!1);var n=s(t);d=c(n,"DIV",{class:!0},!1);var r=s(d);k&&k.l(r),f=o(r,"\n    "),y&&y.l(r),g=o(r,"\n\n    "),b&&b.l(r),v=o(r,"\n\n    "),D&&D.l(r),p=o(r,"\n\n    "),j&&j.l(r),m=o(r,"\n\n    "),A&&A.l(r),r.forEach(l),E=o(n,"\n\n  "),C&&C.l(n),n.forEach(l),this.h()},h(){document.title="The Experimental Diet Guide",i(d,"class","controls-container stick svelte-1pxjc4v"),i(t,"class","main-container svelte-1pxjc4v")},m(e,n){h(e,a,n),h(e,t,n),u(t,d),k&&k.m(d,null),u(d,f),y&&y.m(d,null),u(d,g),b&&b.m(d,null),u(d,v),D&&D.m(d,null),u(d,p),j&&j.m(d,null),u(d,m),A&&A.m(d,null),u(t,E),C&&C.m(t,null)},p(e,a){a.foodData.length>0?k?k.p(e,a):((k=x(a)).c(),k.m(d,f)):k&&(k.d(1),k=null),a.categories.length>1?y?y.p(e,a):((y=T(a)).c(),y.m(d,g)):y&&(y.d(1),y=null),a.foodData.length>0?b?b.p(e,a):((b=L(a)).c(),b.m(d,v)):b&&(b.d(1),b=null),a.isLoading?D||((D=$()).c(),D.m(d,p)):D&&(D.d(1),D=null),a.isLoading||a.foodData.length||!a.errorMessage?j&&(j.d(1),j=null):j?j.p(e,a):((j=w(a)).c(),j.m(d,m)),a.isLoading?A&&(A.d(1),A=null):A||((A=F()).c(),A.m(d,null)),a.foodData.length>0?C?C.p(e,a):((C=N(a)).c(),C.m(t,null)):C&&(C.d(1),C=null)},i:_,o:_,d(e){e&&(l(a),l(t)),k&&k.d(),y&&y.d(),b&&b.d(),D&&D.d(),j&&j.d(),A&&A.d(),C&&C.d()}}}function B(e,a,t){let n=[],r=["All"],c="",s=[],l=3,o=!0,i="All",d=!1,h="";E(async()=>{!async function(){t("isLoading",d=!0);try{const e="https://web-production-fc82.up.railway.app/api/foods",a=await fetch(e);if(!a.ok)throw t("isLoading",d=!1),a;const c=await a.json();t("isLoading",d=!1),t("foodData",n=c||[]),t("errorMessage",h=n.length?null:"Foods not found"),n.forEach(e=>{r.includes(e.category)||r.push(e.category)}),t("filteredFoodData",s=n)}catch(e){t("isLoading",d=!1),console.log(e),t("errorMessage",h=e.statusText||e.message)}}()});return{foodData:n,categories:r,filterValue:c,filteredFoodData:s,selected:l,selectedCategory:i,isLoading:d,errorMessage:h,updateFilters:function(){t("filteredFoodData",s=n.filter(e=>{!function(e){switch(l){case 3:o=!0;break;case 2:o=!1===e;break;case 1:o=!0===e}}(e.recommended);let a="All"===i||e.category===i;return e.name.toLowerCase().includes(c.toLowerCase())&&o&&a}))},input_input_handler:function(){c=this.value,t("filterValue",c)},select_change_handler:function(){i=y(this),t("selectedCategory",i),t("categories",r)},input0_change_handler:function(){l=this.__value,t("selected",l)},input1_change_handler:function(){l=this.__value,t("selected",l)},input2_change_handler:function(){l=this.__value,t("selected",l)},$$binding_groups:[[]]}}export default class extends e{constructor(e){super(),a(this,e,B,S,t,[])}}
