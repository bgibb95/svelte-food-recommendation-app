import{S as e,i as a,s as t,e as c,a as n,b as r,d as s,f as l,g as o,h as i,C as d,j as h,k as u,D as f,t as g,E as v,F as p,q as m,n as _,G as E,H as k,I as y}from"./index.2f81c3c8.js";function b(e,a,t){const c=Object.create(e);return c.food=a[t],c}function D(e,a,t){const c=Object.create(e);return c.category=a[t],c}function x(e){var a,t,g,v,p;return{c(){a=c("form"),t=c("button"),g=n(),v=c("input"),this.h()},l(e){a=r(e,"FORM",{class:!0},!1);var c=s(a);t=r(c,"BUTTON",{"uk-search-icon":!0},!1),s(t).forEach(l),g=o(c,"\n        "),v=r(c,"INPUT",{class:!0,type:!0,placeholder:!0},!1),s(v).forEach(l),c.forEach(l),this.h()},h(){i(t,"uk-search-icon",""),i(v,"class","uk-search-input"),i(v,"type","search"),i(v,"placeholder","Search..."),i(a,"class","uk-search uk-search-default"),p=[d(v,"input",e.input_input_handler),d(v,"keydown",e.updateFilters)]},m(c,n){h(c,a,n),u(a,t),u(a,g),u(a,v),v.value=e.filterValue},p(e,a){e.filterValue&&(v.value=a.filterValue)},d(e){e&&l(a),f(p)}}}function T(e){for(var a,t,m,_,E,y,b,x,T,$,F,L,N=e.categories,w=[],A=0;A<N.length;A+=1)w[A]=j(D(e,N,A));return{c(){a=c("div"),t=c("h5"),m=g("Category"),_=n(),E=c("div"),y=c("select");for(var e=0;e<w.length;e+=1)w[e].c();b=n(),x=c("button"),T=c("span"),$=n(),F=c("span"),this.h()},l(e){a=r(e,"DIV",{class:!0},!1);var c=s(a);t=r(c,"H5",{},!1);var n=s(t);m=o(n,"Category"),n.forEach(l),_=o(c,"\n        "),E=r(c,"DIV",{"uk-form-custom":!0},!1);var i=s(E);y=r(i,"SELECT",{},!1);for(var d=s(y),h=0;h<w.length;h+=1)w[h].l(d);d.forEach(l),b=o(i,"\n          "),x=r(i,"BUTTON",{class:!0,type:!0,tabindex:!0},!1);var u=s(x);T=r(u,"SPAN",{},!1),s(T).forEach(l),$=o(u,"\n            "),F=r(u,"SPAN",{"uk-icon":!0},!1),s(F).forEach(l),u.forEach(l),i.forEach(l),c.forEach(l),this.h()},h(){void 0===e.selectedCategory&&k(()=>e.select_change_handler.call(y)),i(F,"uk-icon","icon: chevron-down"),i(x,"class","uk-button uk-button-default"),i(x,"type","button"),i(x,"tabindex","-1"),i(E,"uk-form-custom","target: > * > span:first-child"),i(a,"class","uk-margin"),L=[d(y,"change",e.select_change_handler),d(y,"change",e.updateFilters)]},m(c,n){h(c,a,n),u(a,t),u(t,m),u(a,_),u(a,E),u(E,y);for(var r=0;r<w.length;r+=1)w[r].m(y,null);v(y,e.selectedCategory),u(E,b),u(E,x),u(x,T),u(x,$),u(x,F)},p(e,a){if(e.categories){N=a.categories;for(var t=0;t<N.length;t+=1){const c=D(a,N,t);w[t]?w[t].p(e,c):(w[t]=j(c),w[t].c(),w[t].m(y,null))}for(;t<w.length;t+=1)w[t].d(1);w.length=N.length}e.selectedCategory&&v(y,a.selectedCategory)},d(e){e&&l(a),p(w,e),f(L)}}}function j(e){var a,t,n=e.category+"";return{c(){a=c("option"),t=g(n),this.h()},l(e){a=r(e,"OPTION",{value:!0},!1);var c=s(a);t=o(c,n),c.forEach(l),this.h()},h(){a.__value=e.category,a.value=a.__value},m(e,c){h(e,a,c),u(a,t)},p(e,t){a.value=a.__value},d(e){e&&l(a)}}}function $(e){var a,t,v,p,m,_,E,k,y,b,D,x,T,j,$,F,L;return{c(){a=c("div"),t=c("label"),v=c("input"),p=g("\n          Recommended"),m=n(),_=c("br"),E=n(),k=c("label"),y=c("input"),b=g("\n          Not Recommended"),D=n(),x=c("br"),T=n(),j=c("label"),$=c("input"),F=g("\n          All"),this.h()},l(e){a=r(e,"DIV",{class:!0},!1);var c=s(a);t=r(c,"LABEL",{class:!0},!1);var n=s(t);v=r(n,"INPUT",{class:!0,type:!0,name:!0,checked:!0,value:!0},!1),s(v).forEach(l),p=o(n,"\n          Recommended"),n.forEach(l),m=o(c,"\n        "),_=r(c,"BR",{},!1),s(_).forEach(l),E=o(c,"\n        "),k=r(c,"LABEL",{class:!0},!1);var i=s(k);y=r(i,"INPUT",{class:!0,type:!0,name:!0,value:!0},!1),s(y).forEach(l),b=o(i,"\n          Not Recommended"),i.forEach(l),D=o(c,"\n        "),x=r(c,"BR",{},!1),s(x).forEach(l),T=o(c,"\n        "),j=r(c,"LABEL",{class:!0},!1);var d=s(j);$=r(d,"INPUT",{class:!0,type:!0,name:!0,value:!0},!1),s($).forEach(l),F=o(d,"\n          All"),d.forEach(l),c.forEach(l),this.h()},h(){e.$$binding_groups[0].push(v),i(v,"class","uk-radio"),i(v,"type","radio"),i(v,"name","radio2"),v.checked=!0,v.__value=1,v.value=v.__value,i(t,"class","svelte-1pxjc4v"),e.$$binding_groups[0].push(y),i(y,"class","uk-radio"),i(y,"type","radio"),i(y,"name","radio2"),y.__value=2,y.value=y.__value,i(k,"class","svelte-1pxjc4v"),e.$$binding_groups[0].push($),i($,"class","uk-radio"),i($,"type","radio"),i($,"name","radio2"),$.__value=3,$.value=$.__value,i(j,"class","svelte-1pxjc4v"),i(a,"class","uk-margin uk-grid-small uk-child-width-auto "),L=[d(v,"change",e.input0_change_handler),d(v,"change",e.updateFilters),d(y,"change",e.input1_change_handler),d(y,"change",e.updateFilters),d($,"change",e.input2_change_handler),d($,"change",e.updateFilters)]},m(c,n){h(c,a,n),u(a,t),u(t,v),v.checked=v.__value===e.selected,u(t,p),u(a,m),u(a,_),u(a,E),u(a,k),u(k,y),y.checked=y.__value===e.selected,u(k,b),u(a,D),u(a,x),u(a,T),u(a,j),u(j,$),$.checked=$.__value===e.selected,u(j,F)},p(e,a){e.selected&&(v.checked=v.__value===a.selected),e.selected&&(y.checked=y.__value===a.selected),e.selected&&($.checked=$.__value===a.selected)},d(t){t&&l(a),e.$$binding_groups[0].splice(e.$$binding_groups[0].indexOf(v),1),e.$$binding_groups[0].splice(e.$$binding_groups[0].indexOf(y),1),e.$$binding_groups[0].splice(e.$$binding_groups[0].indexOf($),1),f(L)}}}function F(e){var a;return{c(){a=c("div"),this.h()},l(e){a=r(e,"DIV",{"uk-spinner":!0},!1),s(a).forEach(l),this.h()},h(){i(a,"uk-spinner","ratio: 2")},m(e,t){h(e,a,t)},d(e){e&&l(a)}}}function L(e){var a,t,i,d,f,v,p,_,E,k,y;return{c(){a=c("h3"),t=c("b"),i=g("Sorry"),d=n(),f=c("h5"),v=g("Something went wrong. Please try again later."),p=n(),_=c("p"),E=g("Error details:\n        "),k=c("b"),y=g(e.errorMessage)},l(c){a=r(c,"H3",{},!1);var n=s(a);t=r(n,"B",{},!1);var h=s(t);i=o(h,"Sorry"),h.forEach(l),n.forEach(l),d=o(c,"\n      "),f=r(c,"H5",{},!1);var u=s(f);v=o(u,"Something went wrong. Please try again later."),u.forEach(l),p=o(c,"\n      "),_=r(c,"P",{},!1);var g=s(_);E=o(g,"Error details:\n        "),k=r(g,"B",{},!1);var m=s(k);y=o(m,e.errorMessage),m.forEach(l),g.forEach(l)},m(e,c){h(e,a,c),u(a,t),u(t,i),h(e,d,c),h(e,f,c),u(f,v),h(e,p,c),h(e,_,c),u(_,E),u(_,k),u(k,y)},p(e,a){e.errorMessage&&m(y,a.errorMessage)},d(e){e&&(l(a),l(d),l(f),l(p),l(_))}}}function N(e){for(var a,t,d,f,v,m,_,E,k,y,D,x,T,j,$,F,L,N=e.filteredFoodData,w=[],A=0;A<N.length;A+=1)w[A]=C(b(e,N,A));return{c(){a=c("div"),t=c("table"),d=c("thead"),f=c("tr"),v=c("th"),m=g("Name"),_=n(),E=c("th"),k=g("Safe"),y=n(),D=c("th"),x=g("Category"),T=n(),j=c("th"),$=g("Note"),F=n(),L=c("tbody");for(var e=0;e<w.length;e+=1)w[e].c();this.h()},l(e){a=r(e,"DIV",{class:!0},!1);var c=s(a);t=r(c,"TABLE",{class:!0},!1);var n=s(t);d=r(n,"THEAD",{},!1);var i=s(d);f=r(i,"TR",{class:!0},!1);var h=s(f);v=r(h,"TH",{class:!0},!1);var u=s(v);m=o(u,"Name"),u.forEach(l),_=o(h,"\n            "),E=r(h,"TH",{class:!0},!1);var g=s(E);k=o(g,"Safe"),g.forEach(l),y=o(h,"\n            "),D=r(h,"TH",{class:!0},!1);var p=s(D);x=o(p,"Category"),p.forEach(l),T=o(h,"\n            "),j=r(h,"TH",{class:!0},!1);var b=s(j);$=o(b,"Note"),b.forEach(l),h.forEach(l),i.forEach(l),F=o(n,"\n        "),L=r(n,"TBODY",{},!1);for(var N=s(L),A=0;A<w.length;A+=1)w[A].l(N);N.forEach(l),n.forEach(l),c.forEach(l),this.h()},h(){i(v,"class","svelte-1pxjc4v"),i(E,"class","svelte-1pxjc4v"),i(D,"class","svelte-1pxjc4v"),i(j,"class","svelte-1pxjc4v"),i(f,"class","svelte-1pxjc4v"),i(t,"class","uk-table uk-table-divider svelte-1pxjc4v"),i(a,"class","controls-container table-container svelte-1pxjc4v")},m(e,c){h(e,a,c),u(a,t),u(t,d),u(d,f),u(f,v),u(v,m),u(f,_),u(f,E),u(E,k),u(f,y),u(f,D),u(D,x),u(f,T),u(f,j),u(j,$),u(t,F),u(t,L);for(var n=0;n<w.length;n+=1)w[n].m(L,null)},p(e,a){if(e.filteredFoodData){N=a.filteredFoodData;for(var t=0;t<N.length;t+=1){const c=b(a,N,t);w[t]?w[t].p(e,c):(w[t]=C(c),w[t].c(),w[t].m(L,null))}for(;t<w.length;t+=1)w[t].d(1);w.length=N.length}},d(e){e&&l(a),p(w,e)}}}function w(e){var a;return{c(){a=c("span"),this.h()},l(e){a=r(e,"SPAN",{class:!0,"uk-icon":!0},!1),s(a).forEach(l),this.h()},h(){i(a,"class","uk-margin-small-right no-icon"),i(a,"uk-icon","close")},m(e,t){h(e,a,t)},d(e){e&&l(a)}}}function A(e){var a;return{c(){a=c("span"),this.h()},l(e){a=r(e,"SPAN",{class:!0,"uk-icon":!0},!1),s(a).forEach(l),this.h()},h(){i(a,"class","uk-margin-small-right yes-icon"),i(a,"uk-icon","check")},m(e,t){h(e,a,t)},d(e){e&&l(a)}}}function C(e){var a,t,d,f,v,p,_,E,k,y,b,D,x,T=e.food.name+"",j=e.food.category+"",$=e.food.comments+"";function F(e){return!0===e.food.recommended?A:!1===e.food.recommended?w:void 0}var L=F(e),N=L&&L(e);return{c(){a=c("tr"),t=c("td"),d=c("b"),f=g(T),v=n(),p=c("td"),N&&N.c(),_=n(),E=c("td"),k=g(j),y=n(),b=c("td"),D=g($),x=n(),this.h()},l(e){a=r(e,"TR",{class:!0},!1);var c=s(a);t=r(c,"TD",{class:!0},!1);var n=s(t);d=r(n,"B",{},!1);var i=s(d);f=o(i,T),i.forEach(l),n.forEach(l),v=o(c,"\n              "),p=r(c,"TD",{class:!0},!1);var h=s(p);N&&N.l(h),h.forEach(l),_=o(c,"\n              "),E=r(c,"TD",{class:!0},!1);var u=s(E);k=o(u,j),u.forEach(l),y=o(c,"\n              "),b=r(c,"TD",{class:!0},!1);var g=s(b);D=o(g,$),g.forEach(l),x=o(c,"\n            "),c.forEach(l),this.h()},h(){i(t,"class","reduced-padding svelte-1pxjc4v"),i(p,"class","reduced-padding svelte-1pxjc4v"),i(E,"class","reduced-padding svelte-1pxjc4v"),i(b,"class","reduced-padding svelte-1pxjc4v"),i(a,"class","svelte-1pxjc4v")},m(e,c){h(e,a,c),u(a,t),u(t,d),u(d,f),u(a,v),u(a,p),N&&N.m(p,null),u(a,_),u(a,E),u(E,k),u(a,y),u(a,b),u(b,D),u(a,x)},p(e,a){e.filteredFoodData&&T!==(T=a.food.name+"")&&m(f,T),L!==(L=F(a))&&(N&&N.d(1),(N=L&&L(a))&&(N.c(),N.m(p,null))),e.filteredFoodData&&j!==(j=a.food.category+"")&&m(k,j),e.filteredFoodData&&$!==($=a.food.comments+"")&&m(D,$)},d(e){e&&l(a),N&&N.d()}}}function I(e){var a,t,d,f,g,v,p,m,E=e.foodData.length>0&&x(e),k=e.categories.length>1&&T(e),y=e.foodData.length>0&&$(e),b=e.isLoading&&F(),D=!e.isLoading&&!e.foodData.length&&e.errorMessage&&L(e),j=e.foodData.length>0&&N(e);return{c(){a=n(),t=c("div"),d=c("div"),E&&E.c(),f=n(),k&&k.c(),g=n(),y&&y.c(),v=n(),b&&b.c(),p=n(),D&&D.c(),m=n(),j&&j.c(),this.h()},l(e){a=o(e,"\n\n"),t=r(e,"DIV",{class:!0},!1);var c=s(t);d=r(c,"DIV",{class:!0},!1);var n=s(d);E&&E.l(n),f=o(n,"\n    "),k&&k.l(n),g=o(n,"\n\n    "),y&&y.l(n),v=o(n,"\n\n    "),b&&b.l(n),p=o(n,"\n\n    "),D&&D.l(n),n.forEach(l),m=o(c,"\n\n  "),j&&j.l(c),c.forEach(l),this.h()},h(){document.title="Food guardian",i(d,"class","controls-container stick svelte-1pxjc4v"),i(t,"class","main-container svelte-1pxjc4v")},m(e,c){h(e,a,c),h(e,t,c),u(t,d),E&&E.m(d,null),u(d,f),k&&k.m(d,null),u(d,g),y&&y.m(d,null),u(d,v),b&&b.m(d,null),u(d,p),D&&D.m(d,null),u(t,m),j&&j.m(t,null)},p(e,a){a.foodData.length>0?E?E.p(e,a):((E=x(a)).c(),E.m(d,f)):E&&(E.d(1),E=null),a.categories.length>1?k?k.p(e,a):((k=T(a)).c(),k.m(d,g)):k&&(k.d(1),k=null),a.foodData.length>0?y?y.p(e,a):((y=$(a)).c(),y.m(d,v)):y&&(y.d(1),y=null),a.isLoading?b||((b=F()).c(),b.m(d,p)):b&&(b.d(1),b=null),a.isLoading||a.foodData.length||!a.errorMessage?D&&(D.d(1),D=null):D?D.p(e,a):((D=L(a)).c(),D.m(d,null)),a.foodData.length>0?j?j.p(e,a):((j=N(a)).c(),j.m(t,null)):j&&(j.d(1),j=null)},i:_,o:_,d(e){e&&(l(a),l(t)),E&&E.d(),k&&k.d(),y&&y.d(),b&&b.d(),D&&D.d(),j&&j.d()}}}function S(e,a,t){let c=[],n=["All"],r="",s=[],l=3,o=!0,i="All",d=!1,h="";E(async()=>{!async function(){t("isLoading",d=!0);try{const e="https://web-production-fc82.up.railway.app/api/foods",a=await fetch(e);if(!a.ok)throw t("isLoading",d=!1),a;const r=await a.json();t("isLoading",d=!1),t("foodData",c=r||[]),t("errorMessage",h=c.length?null:"Foods not found"),c.forEach(e=>{n.includes(e.category)||n.push(e.category)}),t("filteredFoodData",s=c)}catch(e){t("isLoading",d=!1),console.log(e),t("errorMessage",h=e.statusText||e.message)}}()});return{foodData:c,categories:n,filterValue:r,filteredFoodData:s,selected:l,selectedCategory:i,isLoading:d,errorMessage:h,updateFilters:function(){t("filteredFoodData",s=c.filter(e=>{!function(e){switch(l){case 3:o=!0;break;case 2:o=!1===e;break;case 1:o=!0===e}}(e.recommended);let a="All"===i||e.category===i;return e.name.toLowerCase().includes(r.toLowerCase())&&o&&a}))},input_input_handler:function(){r=this.value,t("filterValue",r)},select_change_handler:function(){i=y(this),t("selectedCategory",i),t("categories",n)},input0_change_handler:function(){l=this.__value,t("selected",l)},input1_change_handler:function(){l=this.__value,t("selected",l)},input2_change_handler:function(){l=this.__value,t("selected",l)},$$binding_groups:[[]]}}export default class extends e{constructor(e){super(),a(this,e,S,I,t,[])}}
